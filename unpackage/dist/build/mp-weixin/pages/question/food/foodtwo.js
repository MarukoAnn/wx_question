(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/question/food/foodtwo"],{"35eb":function(t,e,o){},7172:function(t,e,o){"use strict";(function(t){o("555d");s(o("66fd"));var e=s(o("84f3"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},"84f3":function(t,e,o){"use strict";o.r(e);var s=o("ef98"),n=o("882f");for(var i in n)"default"!==i&&function(t){o.d(e,t,(function(){return n[t]}))}(i);o("b3ba");var u,l=o("f0c5"),a=Object(l["a"])(n["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],u);e["default"]=a.exports},"882f":function(t,e,o){"use strict";o.r(e);var s=o("8c84"),n=o.n(s);for(var i in s)"default"!==i&&function(t){o.d(e,t,(function(){return s[t]}))}(i);e["default"]=n.a},"8c84":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(o("fe2a"));function n(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{total:null,num:9.6,nowNum:1,question:"",flag:0,scrollTop:0,old:{scrollTop:0},subNum:0,passflag:"",questionData:"",nextText:"下一题",showItem:"",answer:[],a:!0,family:[]}},created:function(){this.questionData=o("3d87"),this.question=this.questionData[this.flag],this.total=this.questionData.length},methods:{selectItem:function(t){"false"===t.i_hidden?(t.i_hidden="true",t.itemBgc="#8ECDFF",t.b_itemBgc="#8ECDFF",t.b_checkbcg="#fff",t.f_color="#fff"):(t.i_hidden="false",t.itemBgc="#fff",t.b_itemBgc="#E2E2E2",t.b_checkbcg="#E2E2E2",t.f_color="#000")},rebuileComponents:function(){var t=this;this.a=!1,this.$nextTick((function(){t.a=!0}))},scroll:function(t){this.old.scrollTop=t.detail.scrollTop},radioChange:function(t,e){t.forEach((function(t){t.color.fontcolor="#fff",t.color.borderColor="#fff",t.color.r_bgc="#8ECDFF",t.status=0})),e.color.fontcolor="#DF2203",e.color.borderColor="#DF2203",e.color.r_bgc="#DF2203",e.status=1},nextQuestion:function(e){var o=this;if(2===this.question.type?(this.question.itemSelcet.forEach((function(t){1===t.status||(t.label.some((function(t){return"1"===t.type&&"0"===t.value}))?t.label.some((function(t){return 1===t.input&&""===t.value}))&&0!==t.questionjson.length?t.questionjson.some((function(t){return 0!==t.status}))?t.status=1:t.status=0:t.status=1:t.label.some((function(t){return"1"===t.type&&""!==t.value&&"0"!==t.value}))?t.label.some((function(t){return 1===t.input&&(""===t.value||null===t.value)}))||(0!==t.questionjson.length?t.questionjson.some((function(t){return 0!==t.status}))?t.status=1:t.status=0:t.status=1):t.label.some((function(t){return 1===t.input&&(""===t.value||null===t.value)}))?t.status=0:0!==t.questionjson.length?t.questionjson.some((function(t){return 0!==t.status}))?t.status=1:t.status=0:t.status=1)})),this.passflag=this.question.itemSelcet.some((function(t){return 0===t.status}))):this.passflag=this.question.selectList.every((function(t){return 1!==t.status})),this.flagfocus=0,this.passflag)t.showToast({title:"您有选项未选择",icon:"none",duration:2e3}),2===this.question.type?this.question.itemSelcet.forEach((function(t){0===t.status&&(t.error="true",t.color.itemBgc="#FFCECE",t.color.itemTitleBgc="#FFA2A2",0===o.flagfocus&&(o.showItem=t.focus,o.flagfocus=1))})):this.question.selectList.forEach((function(t){0===o.flagfocus&&(o.showItem=t.focus,o.flagfocus=1),t.b_itemBgc="#FFA2A2",t.itemBgc="#FFA2A2",t.b_checkbcg="#fff",t.f_color="#fff"}));else if("提交"!==this.nextText)this.rebuileComponents(),this.flag+=1,this.nowNum=this.nowNum+1,this.num=100/this.total*this.nowNum,this.flag<=this.questionData.length-2?(this.setScroll(),this.question=this.questionData[this.flag]):(this.nextText="提交",this.num=100,this.setScroll(),this.question=this.questionData[this.flag]);else{0===this.subNum&&this.spliceSelectAndInputValue();var n=t.getStorageSync("child_id");t.showLoading({title:"加载中"});var i=this;t.request({url:s.default.env+"/Home/Report/addReportFamily",data:{child_id:n,answer:this.answer,family:this.family},method:"POST",header:{"custom-header":"application/json"},success:function(e){i.subNum=0,t.hideLoading(),"1000"===e.data.status?(t.showToast({title:"请求成功",duration:2e3}),t.redirectTo({url:"../../score/success"})):t.showToast({title:e.data.msg,duration:2e3,icon:"none"})},fail:function(e){i.subNum=0,t.showToast({title:"请求失败，请检查网络",duration:2e3,icon:"none"})}})}},backQuestion:function(){0===this.flag?(console.log(this.flag),t.navigateBack()):(this.rebuileComponents(),this.flag-=1,this.nowNum=this.nowNum-1,this.num=100/this.total*this.nowNum,this.nextText="下一题",this.question=this.questionData[this.flag])},setInputValue:function(t,e,o){e.label[o].value=t.detail.value,e.label.some((function(t){return"1"===t.type&&"0"===t.value}))?(e.color.itemBgc="#E8F5FF",e.color.itemTitleBgc="#8ECDFF",e.error="false"):e.label.some((function(t){return"1"===t.type&&""!==t.value&&"0"!==t.value}))?(e.label.some((function(t){return 1===t.input&&""===t.value}))||0===e.questionjson.length||e.questionjson.some((function(t){return 0!==t.status})))&&(e.color.itemBgc="#E8F5FF",e.color.itemTitleBgc="#8ECDFF",e.error="false"):e.label.some((function(t){return 1===t.input&&""===t.value}))||(e.color.itemBgc="#E8F5FF",e.color.itemTitleBgc="#8ECDFF",e.error="false")},selcetChcek:function(t,e){t.label.some((function(t){return 1===t.input&&""===t.value}))||(t.color.itemBgc="#E8F5FF",t.color.itemTitleBgc="#8ECDFF",t.error="false"),t.questionjson.forEach((function(t){t.color.ftcolor="#000",t.color.t_iconBgc="#707070",t.color.t_innericonBgc="#FFFFFF",t.color.t_borBgc="#DADBDC",t.color.bgc="#E8F5FF",t.status=0})),e.color.ftcolor="#fff",e.color.t_iconBgc="#fff",e.color.bgc="#5CB7FF",e.color.t_innericonBgc="#5CB7FF",e.color.t_borBgc="#5CB7FF",e.status=1,e.error="false"},helpClick:function(t){"false"===t.help.showhelpText?(t.help.showhelpText="true",t.help.imgurl="../../../static/image/ic_show.png"):(t.help.showhelpText="false",t.help.imgurl="../../../static/image/ic_help.png")},selectCheckItem:function(t){this.question.selectList.forEach((function(t){0===t.status&&(t.b_itemBgc="#E2E2E2",t.itemBgc="#fff",t.b_checkbcg="#E2E2E2",t.f_color="#000")})),"false"===t.i_hidden?(t.i_hidden="true",t.itemBgc="#8ECDFF",t.b_itemBgc="#8ECDFF",t.b_checkbcg="#fff",t.f_color="#fff",t.status=1):(t.i_hidden="false",t.itemBgc="#fff",t.b_itemBgc="#E2E2E2",t.b_checkbcg="#E2E2E2",t.f_color="#000",t.status=0)},setScroll:function(t){this.scrollTop=this.old.scrollTop,this.$nextTick((function(){this.scrollTop=0}))},spliceSelectAndInputValue:function(){var t=this;this.subNum=1,this.family=[],this.answer=[],this.questionData.splice(0,2).forEach((function(e){if(2===e.type)e.itemSelcet.forEach((function(e){e.label.forEach((function(e){1===e.input&&t.family.push(e.value)}))}));else{var o=[];e.selectList.forEach((function(t,e){1===t.status&&o.push(e)})),t.family.push(o)}})),console.log(this.family);var e=[];this.questionData.forEach((function(o){var s=[];if(2===o.type)if("四、水果类"===o.title){if("flag"===o.flag){var n=[];n.push(o.flag),e.unshift(n)}o.itemSelcet.forEach((function(t){var o=[];"title"!==t.type&&(t.label.forEach((function(t){1===t.input&&o.push(t.value),0!==t.select.length&&t.select.forEach((function(t){1===t.status&&o.push("周"===t.text?0:1)}))})),0!==t.label.length&&0!==t.questionjson.length&&t.questionjson.forEach((function(t){1===t.status&&o.push(t.label.toString())})),void 0!==t.type&&o.push(t.type),0!==t.label.length&&e.push(o))}))}else{if(0!==e.length){t.answer.push(e),e=[];var i=[];i.push(o.flag),s.unshift(i),o.itemSelcet.forEach((function(t){var e=[];"title"!==t.type&&(t.label.forEach((function(t){1===t.input&&e.push(t.value),0!==t.select.length&&t.select.forEach((function(t){1===t.status&&e.push("周"===t.text?0:1)}))})),0!==t.label.length&&0!==t.questionjson.length&&t.questionjson.forEach((function(t){1===t.status&&e.push(t.label.toString())})),void 0!==t.type&&e.push(t.type),void 0!==t.flag&&e.push(t.flag),0!==e.length&&s.push(e))}))}else{var u=[];u.push(o.flag),s.unshift(u),"final"===o.flag?(console.log(o.flag),o.itemSelcet.forEach((function(t){"title"!==t.type&&t.label.forEach((function(t){if(1===t.input){var e=[];e.push(t.value),s.push(e)}}))}))):o.itemSelcet.forEach((function(t){var e=[];"title"!==t.type&&(t.label.forEach((function(t){1===t.input&&e.push(t.value),0!==t.select.length&&t.select.forEach((function(t){1===t.status&&e.push("周"===t.text?0:1)}))})),0!==t.label.length&&0!==t.questionjson.length&&t.questionjson.forEach((function(t){1===t.status&&e.push(t.label.toString())})),void 0!==t.type&&e.push(t.type),void 0!==t.flag&&e.push(t.flag),0!==e.length&&s.push(e))}))}t.answer.push(s)}}))}}};e.default=i}).call(this,o("543d")["default"])},b3ba:function(t,e,o){"use strict";var s=o("35eb"),n=o.n(s);n.a},ef98:function(t,e,o){"use strict";var s;o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return s}));var n=function(){var t=this,e=t.$createElement;t._self._c},i=[]}},[["7172","common/runtime","common/vendor"]]]);